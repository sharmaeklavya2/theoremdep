<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Acyclic predecessor graph is union of rooted trees - TheoremDep</title>
<meta name="description" content="Track dependencies between theorems." />
<link rel="stylesheet" href="https://sharmaeklavya2.github.io/theoremdep/theme/base.css" />
<script type="text/x-mathjax-config">MathJax.Hub.Config({
"TeX": {"extensions": ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"]},
"extensions": ["tex2jax.js"],
"jax": ["input/TeX", "output/CommonHTML"],
"tex2jax": {"inlineMath": [ ["$","$"], ["\\(","\\)"] ], "processEscapes": true},
});</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
</head>

<body>
<nav>
    <div id="sitename"><a href="https://sharmaeklavya2.github.io/theoremdep">TheoremDep</a></div>
    <form id="searchform" method="get" action="https://sharmaeklavya2.github.io/theoremdep/search.html">
        <input id="searchbox" type="text" name="q" placeholder="Search" />
        <button id="searchbutton" type="submit" >&#x1F50D;</button>
    </form>
</nav>

<div id="main">
<h1> Acyclic predecessor graph is union of rooted trees </h1>
<h2> Dependencies:
 </h2>
<ol class="deplist">
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/trees/rooted-tree.html">
        <span class="deptitle">
        Rooted tree</span>
    </a>
    </li>
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/transpose.html">
        <span class="deptitle">
        Transpose of a graph</span>
    </a>
    </li>
</ol>

<div class="horizontal-rule"></div>
<p>Let $π: V \mapsto V \cup \{\textrm{null}\}$ be a function.
$π(v)$ is called the predecessor of $v$.</p>
<p>Let $G = (V, E)$ be a directed graph where
$E = \{(π(v), v): v \in V \wedge π(v) \neq \textrm{null}\}$.
Such a graph is called a predecessor graph of $π$.</p>
<p>It is easy to see that there are 2 kinds of vertices in this graph:</p>
<ul>
<li>$π(v) = \textrm{null}$: Let's call them 'leaders'. They have in-degree 0.</li>
<li>$π(v) \neq \textrm{null}$: Let's call them 'followers'. They have in-degree 1.</li>
</ul>
<p>An acyclic predecessor graph is a union of rooted trees.
The roots of these trees are leaders. Non-root vertices are followers.</p>
<h2>Proof</h2>
<p>A graph $H$ is a tree rooted at $s$ iff
there is a unique path from $s$ to every vertex in $H$.
Equivalently there is a unique path in $H^T$
from every vertex to $s$.</p>
<p>Define $π(\textrm{null}) = \textrm{null}$.
<br/>Define $π^i(v) = \begin{cases} v &amp; i = 0 \\ π^{i-1}(π(v)) &amp; i &gt; 0 \end{cases}$.
<br/>Define $∏(v)$ as the infinite sequence $[π^i(v): i \ge 0]$.
<br/>It's easy to see that all entries after the first null are null.</p>
<p>All non-null entries in $∏(v)$ are unique.
We will prove this by contradiction.
Assume that $π^i(v) = π^j(v)$ for $i &lt; j$.
That means $π^{j-i}(u) = u$ where $u = π^i(v)$.
This means that $u$ is part of a cycle in $G$ of length $j-i$.
This is a contradiction since $G$ is acyclic.
Therefore, all non-null entries in $∏(v)$ are unique.</p>
<p>For each $v \in V$, there is a last non-null element in $∏(v)$
and this element is a leader. Let us denote this element by $π^*(v)$.
The non-null entries in $∏(v)$ form a path in $G^T$ from $v$ to $π^*(v)$.</p>
<p>There can be only one path from $v$ to a leader in $G^T$.
We will prove this by contradiction.
Assume that there are at least 2 distinct paths $p_1$ and $p_2$ in $G^T$ from $v$ to a leader.
Since $G$ is acyclic, neither of $p_1$ and $p_2$ is a prefix of the other.
Let $i$ be the last index for which $p_1[i] = p_2[i]$.
Such an $i$ exists because $p_1[0] = p_2[0] = v$. Let $w = p_1[i] = p_2[i]$.
Let $u_1 = p_1[i+1]$ and $u_2 = p_2[i+1]$. Therefore, $u_1 \neq u_2$.
$p_1[i+1]$ and $p_2[i+1]$ exist, since $p_1$ and $p_2$ are distinct paths.
$(w, u_1) \in G^T \implies π(w) = u_1$ and $(w, u_2) \in G^T \implies π(w) = u_2$.
This is a contradiction, since $w$ can have only one predecessor.</p>
<p>We can partition the vertices of $V$ by their value of $π^*$.
There is no edge $(u, v)$ such that $u$ and $v$ are in different partitions,
otherwise $u$ will have a path to both $π^*(u)$ and $π^*(v)$.
In each partition, there is a unique path from $v$ to $π^*(v)$ in $G^T$.
Therefore, $G$ is a union of trees where leaders are root vertices and followers are non-root vertices.</p>

<div class="horizontal-rule"></div>
<h2> Dependency for: </h2>
<ol class="deplist">
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/bfs.html">
        <span class="deptitle">
        Breadth-first search</span>
    </a>
    </li>
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/shortest-paths/relaxations-tree.html">
        <span class="deptitle">
        Edge relaxations: Predecessor subgraph is a rooted tree</span>
    </a>
    </li>
</ol>
<h2> Info: </h2>
<ul><li>Depth: 3</li><li>Number of transitive dependencies: 6</li></ul>

<div class="horizontal-rule"></div>
<h2> Transitive dependencies: </h2>
<ol class="deplist">
    <li>
    <span class="deptitleuci missing">/misc/equivalence-classes</span>
    </li>
    <li>
    <span class="deptitleuci missing">/misc/relation-composition-is-associative</span>
    </li>
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/graph.html">
        <span class="deptitle">
        Graph</span>
    </a>
    </li>
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/transpose.html">
        <span class="deptitle">
        Transpose of a graph</span>
    </a>
    </li>
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/path.html">
        <span class="deptitle">
        Path in Graph</span>
    </a>
    </li>
    <li>
    <a href="https://sharmaeklavya2.github.io/theoremdep/nodes/graph-theory/trees/rooted-tree.html">
        <span class="deptitle">
        Rooted tree</span>
    </a>
    </li>
</ol>

</div>
</body>
</html>